<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE TERMINAL | Redline Markets</title>
    <style>
        :root {
            --bg: #050505;
            --card: #121212;
            --accent: #b91c1c;
            --accent-glow: #ef4444;
            --text: #e2e8f0;
            --muted: #64748b;
            --border: #262626;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        /* Ticker */
        .ticker-wrap {
            width: 100%;
            background: #000;
            padding: 12px 0;
            border-bottom: 2px solid var(--accent);
            box-shadow: 0 0 15px rgba(185, 28, 28, 0.3);
            overflow: hidden;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .ticker {
            display: flex;
            white-space: nowrap;
            animation: ticker 40s linear infinite;
        }

        .ticker-item {
            display: inline-block;
            padding: 0 40px;
            font-size: 0.85rem;
            font-weight: 800;
            text-transform: uppercase;
        }

        .ticker-item span { color: var(--accent-glow); margin-left: 10px; }

        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        header {
            max-width: 1100px;
            margin: 60px auto 10px;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo { 
            font-size: 2rem; 
            font-weight: 900; 
            text-transform: uppercase;
            font-style: italic;
            letter-spacing: -2px;
            border-left: 4px solid var(--accent);
            padding-left: 15px;
        }
        .logo span { color: var(--accent); }

        .search-container {
            position: relative;
            flex-grow: 1;
            max-width: 400px;
        }

        #searchInput {
            width: 100%;
            background: #000;
            border: 1px solid var(--border);
            padding: 12px 20px;
            color: white;
            border-radius: 4px;
            outline: none;
            transition: 0.3s;
        }

        #searchInput:focus {
            border-color: var(--accent);
            box-shadow: 0 0 10px rgba(185, 28, 28, 0.5);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            grid-auto-rows: 280px;
            gap: 20px;
            max-width: 1100px;
            margin: 20px auto 50px;
            padding: 0 20px;
        }

        .news-card {
            background: var(--card);
            border: 1px solid var(--border);
            padding: 25px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            text-decoration: none;
            color: inherit;
            transition: 0.3s;
        }

        .news-card:hover {
            border-color: var(--accent);
            background: #171717;
            transform: translateY(-5px);
        }

        .source-tag {
            font-size: 0.6rem;
            color: var(--accent-glow);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        h2 { font-size: 1.2rem; line-height: 1.3; margin-bottom: 10px; }
        .meta { color: var(--muted); font-size: 0.7rem; text-transform: uppercase; }

        #loader { text-align: center; padding: 100px; color: var(--accent); grid-column: 1/-1; }
    </style>
</head>
<body>

<div class="ticker-wrap">
    <div class="ticker">
        <div class="ticker-item">S&P 500 <span>+1.12%</span></div>
        <div class="ticker-item">NASDAQ <span>+0.85%</span></div>
        <div class="ticker-item">BTC <span>+3.14%</span></div>
        <div class="ticker-item">NVDA <span>+2.40%</span></div>
        <div class="ticker-item">TSLA <span>-1.20%</span></div>
        <div class="ticker-item">S&P 500 <span>+1.12%</span></div>
        <div class="ticker-item">NASDAQ <span>+0.85%</span></div>
    </div>
</div>

<header>
    <div class="logo">JUSTICE<span>.</span>MARKETS</div>
    <div class="search-container">
        <input type="text" id="searchInput" placeholder="SEARCH TICKER (E.G. BITCOIN)">
    </div>
</header>

<div class="grid" id="newsGrid">
    <div id="loader">INITIALIZING SECURE FEED...</div>
</div>

<script>
    const API_KEY = '233dfd1df1764096b6f198825eb72529';
    const grid = document.getElementById('newsGrid');
    const searchInput = document.getElementById('searchInput');

    async function fetchNews(query = '') {
        grid.innerHTML = '<div id="loader">SCANNING HELL\'S KITCHEN...</div>';
        try {
            const proxy = "https://corsproxy.io/?";
            let targetUrl;

            if (query === '') {
                // DEFAULT VIEW: Neutral sources for general finance
                targetUrl = `https://newsapi.org/v2/everything?q=finance+stocks&sources=reuters,associated-press,cnbc,fortune&sortBy=publishedAt&language=en&apiKey=${API_KEY}`;
            } else {
                // SEARCH VIEW: Search across all English business sources to ensure we get results
                targetUrl = `https://newsapi.org/v2/everything?q=${encodeURIComponent(query)}&domains=wsj.com,reuters.com,cnbc.com,marketwatch.com,fortune.com,bloomberg.com&sortBy=relevancy&language=en&apiKey=${API_KEY}`;
            }
            
            const response = await fetch(proxy + encodeURIComponent(targetUrl));
            const data = await response.json();

            if (data.status === "ok" && data.articles.length > 0) {
                grid.innerHTML = '';
                data.articles.slice(0, 12).forEach(article => {
                    if(!article.title || article.title === "[Removed]") return;
                    const card = document.createElement('a');
                    card.href = article.url;
                    card.target = "_blank";
                    card.className = 'news-card';
                    card.innerHTML = `
                        <div class="source-tag">${article.source.name}</div>
                        <h2>${article.title}</h2>
                        <div class="meta">${new Date(article.publishedAt).toLocaleDateString()} // DATA: VERIFIED</div>
                    `;
                    grid.appendChild(card);
                });
            } else {
                grid.innerHTML = `<div id="loader">NO INTEL FOUND FOR "${query.toUpperCase()}". TRY A DIFFERENT TICKER.</div>`;
            }
        } catch (error) {
            grid.innerHTML = `<div id="loader">CONNECTION INTERRUPTED.</div>`;
        }
    }

    searchInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            const query = searchInput.value.trim();
            fetchNews(query);
        }
    });

    fetchNews();
</script>

</body>
</html>